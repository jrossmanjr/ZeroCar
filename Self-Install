*****CAO 13MAR16*****

--------------

WIFI DRivers
SITE: https://www.raspberrypi.org/forums/viewtopic.php?p=462982

Commands:
uname -a
  --> use the website to decypher what you got!
wget https://dl.dropboxusercontent.com/u/80256631/8188eu-20160305.tar.gz
tar xzf 8188eu-20160305.tar.gz
./install.sh

-----------------
Remote into the Pi.

ssh pi@192.168.x.xx

Enter password (default "raspberry"), then the command line appears

-----------------

install the samba server:

sudo apt-get update
sudo apt-get install -y samba samba-common-bin 

-----------------

By default, the username pi is defined. To allow pi to be a samba user

sudo smbpasswd -a pi

You will be asked to enter pi's password twice.

------------------

Edit the samba configuration file

sudo nano /etc/samba/smb.conf

At the end of the file, add the following lines

[Mediadrive]
  comment = Public Storage
  path = /
  valid users = @users
  force group = users
  create mask = 0775
  directory mask = 0775
  read only = no

--------------------

Restart samba to use the new configuration file.

sudo /etc/init.d/samba restart

--------------------

Next install minidlna :

sudo apt-get install -y minidlna


Configure minidlna :

sudo nano /etc/minidlna.conf


Change the Media Dir's to point to the external hard drive

media_dir=/home/pi/Videos


Change db_dir so that the database is saved across reboots

db_dir=/home/pi/.minidlna


manually create db_dir directory and grant permissions

sudo mkdir /home/pi/.minidlna
sudo chmod 777 /home/pi/.minidlna


start minidlna at boot :
sudo update-rc.d minidlna defaults

----------------------

Next we want to turn our raspberry pi into a wireless acces point:

sudo apt-get install -y hostapd


We want to set a static IP address:

sudo nano /etc/network/interfaces

remove:
wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf

Add those lines:

iface wlan0 inet static
address 10.0.0.1
netmask 255.255.255.0


fix HOSTAPD

sudo nano /etc/default/hostapd

add this line

DAEMON_CONF="/etc/hostapd/hostapd.conf"

Fix the CONF file

sudo nano  /etc/hostapd/hostapd.conf

Add these lines:

interface=wlan0
# driver=rtl871xdrv
driver=nl80211
ctrl_interface=/var/run/hostapd
ctrl_interface_group=0
ssid=Raspicar
hw_mode=g
ieee80211n=1
channel=8
wpa=2
wpa_passphrase=RaspiCar1
wpa_key_mgmt=WPA-PSK
wpa_pairwise=CCMP
rsn_pairwise=CCMP
beacon_int=100
auth_algs=3
wmm_enabled=1

---------------

Now we want to setup a dhcp server:

sudo apt-get install -y dnsmasq
sudo nano /etc/dnsmasq.conf

add these lines


interface=wlan0
dhcp-range=10.0.0.2,10.0.0.9,255.255.255.0,12h

-------
add the following lines to rc.local as the first uncommented (one without the #) line!

sudo nano /etc/rc.local
ifdown wlan0; ifup wlan0

--------

Restart Hostapd service, dnsmasq and the pi... 

sudo service hostapd restart && sudo /etc/init.d/dnsmasq restart && sudo reboot
-----------


Voila, thatâ€™s it, I have 2 happy children now, hope you think this is clear enough. Enjoy!
